<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Blokz Reflex - Pro avec compteur en jeu</title>
<style>
  body, html {
    margin: 0; padding: 0; height: 100%;
    font-family: Arial, sans-serif;
    background: #111;
    color: white;
    overflow: hidden;
  }
  #fondJeu {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background-size: cover;
    background-position: center;
    filter: brightness(0.5);
    z-index: -1;
  }
  #interface {
    position: relative;
    max-width: 480px;
    margin: 30px auto;
    background: rgba(20,20,20,0.9);
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 15px #0af;
  }
  #instructions {
    font-size: 1.1em;
    margin-bottom: 20px;
  }
  #compteurPoints {
    font-size: 1.3em;
    margin-bottom: 15px;
    text-align: center;
  }
  button {
    font-size: 1.2em;
    padding: 10px 20px;
    margin: 10px 5px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    background: #0af;
    color: white;
    transition: background 0.3s ease;
  }
  button:hover {
    background: #08c;
  }
  #btnCommencer {
    display: none;
  }
  #changerFondBtn {
    position: fixed;
    bottom: 15px;
    left: 15px;
    background: #444;
    font-size: 1em;
    padding: 8px 15px;
    box-shadow: 0 0 10px #0af;
  }
  /* Compteur en jeu en haut √† droite */
  #compteurJeu {
    position: fixed;
    top: 10px;
    right: 15px;
    font-size: 1.6em;
    color: #0af;
    font-weight: bold;
    z-index: 20;
    text-shadow: 0 0 8px #0af;
  }
  /* Bloc simul√© √† cliquer pour test */
  #blocTest {
    position: fixed;
    top: 50%;
    left: 50%;
    width: 100px;
    height: 100px;
    background: #0af;
    border-radius: 15px;
    cursor: pointer;
    transform: translate(-50%, -50%);
    box-shadow: 0 0 15px #08c;
    z-index: 15;
    display: none; /* cach√© avant le jeu */
    user-select: none;
  }
  #blocTest:hover {
    background: #08c;
  }
</style>
</head>
<body>

<div id="fondJeu"></div>

<div id="interface">
  <div id="instructions">
    <h2>Blokz Reflex - Instructions</h2>
    <ul>
      <li>Clique sur "Pr√™t ?" pour lancer le compte √† rebours.</li>
      <li>Apr√®s le compte √† rebours, clique sur "Commencer" pour d√©marrer la partie.</li>
      <li>Essaie de cliquer sur les bons blocs avant qu'ils disparaissent !</li>
      <li>Change le fond d'√©cran gratuit avec le bouton en bas √† gauche.</li>
    </ul>
  </div>

  <div id="compteurPoints">üèÜ Troph√©es : 0</div>

  <div style="text-align: center;">
    <button id="btnPret">Pr√™t ?</button>
    <button id="btnCommencer">Commencer</button>
  </div>
</div>

<button id="changerFondBtn">Changer fond perso gratuit</button>

<!-- Compteur en jeu -->
<div id="compteurJeu">Score : 0</div>

<!-- Bloc simul√© (√† cliquer pour tester l'ajout de points) -->
<div id="blocTest" title="Clique moi !"></div>

<script>
  // Variables
  let points = 0;
  let jeuEnCours = false;
  let tempsBloc = 3000; // facile = 3s par d√©faut

  // Fonds perso gratuits (URLs images)
  const fondsPersoGratuits = [
    'url("https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1350&q=80")',
    'url("https://images.unsplash.com/photo-1518837695005-2083093ee35b?auto=format&fit=crop&w=1350&q=80")',
    'url("https://images.unsplash.com/photo-1500534623283-312aade485b7?auto=format&fit=crop&w=1350&q=80")'
  ];
  let fondActuelIndex = 0;

  // √âl√©ments DOM
  const compteurPoints = document.getElementById('compteurPoints');
  const btnPret = document.getElementById('btnPret');
  const btnCommencer = document.getElementById('btnCommencer');
  const fondJeu = document.getElementById('fondJeu');
  const changerFondBtn = document.getElementById('changerFondBtn');
  const compteurJeu = document.getElementById('compteurJeu');
  const blocTest = document.getElementById('blocTest');

  // Mise √† jour des points (interface boutique / avant jeu)
  function majPoints() {
    compteurPoints.textContent = `üèÜ Troph√©es : ${points}`;
  }

  // Mise √† jour compteur en jeu (visible pendant la partie)
  function majCompteurJeu() {
    compteurJeu.textContent = `Score : ${points}`;
  }

  // Appliquer fond perso
  function appliquerFond(index) {
    fondJeu.style.backgroundImage = fondsPersoGratuits[index];
    fondActuelIndex = index;
  }

  // Changer fond
  function changerFondSuivant() {
    fondActuelIndex = (fondActuelIndex + 1) % fondsPersoGratuits.length;
    appliquerFond(fondActuelIndex);
  }

  // Compte √† rebours 3-2-1 (affichage sur bouton Commencer)
  async function compteRebours() {
    btnPret.style.display = 'none';
    btnCommencer.style.display = 'inline-block';

    for(let i = 3; i > 0; i--) {
      btnCommencer.textContent = `Commencer dans ${i}...`;
      await new Promise(r => setTimeout(r, 1000));
    }
    btnCommencer.textContent = 'Commencer !';
  }

  // Fonction appel√©e quand on clique sur un bloc valide (exemple)
  function ajouterPoint() {
    if(!jeuEnCours) return;
    points++;
    majPoints();
    majCompteurJeu();
  }

  // D√©marrer jeu
  function demarrerJeu() {
    jeuEnCours = true;
    points = 0;
    majPoints();
    majCompteurJeu();
    btnCommencer.style.display = 'none';
    // Affiche blocTest (simule un bloc √† cliquer)
    blocTest.style.display = 'block';
  }

  // √âv√©nements
  btnPret.addEventListener('click', compteRebours);
  btnCommencer.addEventListener('click', demarrerJeu);
  changerFondBtn.addEventListener('click', changerFondSuivant);

  // Clique sur bloc test => ajoute un point
  blocTest.addEventListener('click', () => {
    ajouterPoint();
  });

  // Initialisation
  window.addEventListener('load', () => {
    majPoints();
    appliquerFond(fondActuelIndex);
    compteurJeu.style.display = 'none'; // cach√© au d√©part
  });

  // Affiche le compteur en jeu au d√©marrage de la partie
  btnCommencer.addEventListener('click', () => {
    compteurJeu.style.display = 'block';
  });

</script>

</body>
</html>









