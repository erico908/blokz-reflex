<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Blokz Reflex - Pro</title>
<style>
  /* Base */
  body, html {
    margin: 0; padding: 0; height: 100%;
    font-family: Arial, sans-serif;
    background: #111;
    color: white;
    overflow: hidden;
  }
  #fondJeu {
    position: fixed;
    top: 0; left: 0;
    width: 100vw; height: 100vh;
    background-size: cover;
    background-position: center;
    filter: brightness(0.5);
    z-index: -1;
  }
  #interface {
    position: relative;
    max-width: 480px;
    margin: 30px auto;
    background: rgba(20,20,20,0.9);
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 15px #0af;
  }
  #instructions {
    font-size: 1.1em;
    margin-bottom: 20px;
  }
  #compteurPoints {
    font-size: 1.3em;
    margin-bottom: 15px;
    text-align: center;
  }
  button {
    font-size: 1.2em;
    padding: 10px 20px;
    margin: 10px 5px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    background: #0af;
    color: white;
    transition: background 0.3s ease;
  }
  button:hover {
    background: #08c;
  }
  #btnCommencer {
    display: none;
  }
  #changerFondBtn, #ouvrirPersonnalisationBtn {
    position: fixed;
    bottom: 15px;
    left: 15px;
    background: #444;
    font-size: 1em;
    padding: 8px 15px;
    box-shadow: 0 0 10px #0af;
  }
  #ouvrirPersonnalisationBtn {
    left: auto;
    right: 15px;
  }
  /* Fen√™tre personnalisation fond */
  #fenetreFond {
    display: none;
    position: fixed;
    bottom: 70px;
    right: 15px;
    background: rgba(0,0,0,0.9);
    border: 2px solid #0af;
    border-radius: 8px;
    padding: 15px;
    width: 220px;
    z-index: 20;
  }
  #fenetreFond h3 {
    margin-top: 0;
    font-size: 1.2em;
    text-align: center;
  }
  .fondOption {
    cursor: pointer;
    margin: 8px 0;
    border-radius: 6px;
    overflow: hidden;
    border: 2px solid transparent;
    transition: border-color 0.3s;
  }
  .fondOption:hover, .fondOption.selected {
    border-color: #0af;
  }
  .fondThumb {
    width: 100%;
    height: 60px;
    background-size: cover;
    background-position: center;
  }
  /* Responsive mobile */
  @media(max-width: 500px) {
    #interface {
      margin: 15px 10px;
      padding: 15px;
      max-width: 100%;
    }
    #instructions {
      font-size: 1.3em;
    }
    #compteurPoints {
      font-size: 1.5em;
    }
    button {
      font-size: 1.4em;
      padding: 14px 25px;
      margin: 12px 6px;
    }
    #changerFondBtn, #ouvrirPersonnalisationBtn {
      font-size: 1.1em;
      padding: 10px 18px;
      bottom: 10px;
    }
    #fenetreFond {
      width: 90vw;
      right: 5vw;
      bottom: 70px;
      padding: 20px;
    }
    .fondThumb {
      height: 80px;
    }
  }
</style>
</head>
<body>

<div id="fondJeu"></div>

<div id="interface">
  <div id="instructions">
    <h2>Blokz Reflex - Instructions</h2>
    <ul>
      <li>Clique sur "Pr√™t ?" pour lancer le compte √† rebours.</li>
      <li>Apr√®s le compte √† rebours, clique sur "Commencer" pour d√©marrer la partie.</li>
      <li>Essaie de cliquer sur les bons blocs avant qu'ils disparaissent !</li>
      <li>Personnalise ton fond d‚Äô√©cran gratuitement.</li>
    </ul>
  </div>

  <div id="compteurPoints">üèÜ Troph√©es : 0</div>

  <div style="text-align: center;">
    <button id="btnPret">Pr√™t ?</button>
    <button id="btnCommencer">Commencer</button>
  </div>
</div>

<button id="changerFondBtn" style="display:none;">Changer fond perso gratuit</button>
<button id="ouvrirPersonnalisationBtn">Personnaliser fond d‚Äô√©cran</button>

<div id="fenetreFond">
  <h3>Choisis ton fond</h3>
  <div class="fondOption" data-index="0">
    <div class="fondThumb" style="background-image:url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1350&q=80')"></div>
  </div>
  <div class="fondOption" data-index="1">
    <div class="fondThumb" style="background-image:url('https://images.unsplash.com/photo-1518837695005-2083093ee35b?auto=format&fit=crop&w=1350&q=80')"></div>
  </div>
  <div class="fondOption" data-index="2">
    <div class="fondThumb" style="background-image:url('https://images.unsplash.com/photo-1500534623283-312aade485b7?auto=format&fit=crop&w=1350&q=80')"></div>
  </div>
</div>

<script>
  let points = 0;
  let jeuEnCours = false;
  let tempsBloc = 3000; // facile = 3s par d√©faut

  const fondsPersoGratuits = [
    'url("https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1350&q=80")',
    'url("https://images.unsplash.com/photo-1518837695005-2083093ee35b?auto=format&fit=crop&w=1350&q=80")',
    'url("https://images.unsplash.com/photo-1500534623283-312aade485b7?auto=format&fit=crop&w=1350&q=80")'
  ];
  let fondActuelIndex = 0;

  const compteurPoints = document.getElementById('compteurPoints');
  const btnPret = document.getElementById('btnPret');
  const btnCommencer = document.getElementById('btnCommencer');
  const fondJeu = document.getElementById('fondJeu');
  const ouvrirPersonnalisationBtn = document.getElementById('ouvrirPersonnalisationBtn');
  const fenetreFond = document.getElementById('fenetreFond');
  const fondOptions = document.querySelectorAll('.fondOption');

  function majPoints() {
    compteurPoints.textContent = `üèÜ Troph√©es : ${points}`;
  }

  function appliquerFond(index) {
    fondJeu.style.backgroundImage = fondsPersoGratuits[index];
    fondActuelIndex = index;
    fondOptions.forEach(el => el.classList.remove('selected'));
    fondOptions[index].classList.add('selected');
  }

  async function compteRebours() {
    btnPret.style.display = 'none';
    btnCommencer.style.display = 'inline-block';

    for(let i = 3; i > 0; i--) {
      btnCommencer.textContent = `Commencer dans ${i}...`;
      await new Promise(r => setTimeout(r, 1000));
    }
    btnCommencer.textContent = 'Commencer !';
  }

  function demarrerJeu() {
    jeuEnCours = true;
    points = 0;
    majPoints();
    btnCommencer.style.display = 'none';
    alert('Ici d√©marre ta logique de jeu avec tempsBloc = ' + tempsBloc + ' ms');
  }

  btnPret.addEventListener('click', compteRebours);
  btnCommencer.addEventListener('click', demarrerJeu);

  ouvrirPersonnalisationBtn.addEventListener('click', () => {
    if(fenetreFond.style.display === 'block') {
      fenetreFond.style.display = 'none';
    } else {
      fenetreFond.style.display = 'block';
    }
  });

  fondOptions.forEach(option => {
    option.addEventListener('click', () => {
      let index = parseInt(option.getAttribute('data-index'));
      appliquerFond(index);
      fenetreFond.style.display = 'none';
    });
  });

  window.addEventListener('load', () => {
    majPoints();
    appliquerFond(fondActuelIndex);
  });
</script>

</body>
</html>







